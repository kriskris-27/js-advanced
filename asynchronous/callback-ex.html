<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Image Loader using Callback</h1>
    <button id="loadimage">CLICK TO ADD IMAGE</button>
    <img id="image" style="display: none;"/>

    <script>
        function loadimage(url,success,err)
        {
            const img=document.getElementById('image');
            img.src=url;
            img.onload=function (){
                success();
            }
            img.onerror=function(){
                err('Image failed to load');
            }
        }

        document.getElementById('loadimage').addEventListener('click',function(){
            loadimage('https://via.placeholder.com/300',()=>{
                document.getElementById('image').style.display='block';
                console.log('image loaded successfully');
            },
            (errmes)=>
            {
                console.error(errmes);
            }
        );
        });

    </script>
</body>
</html>