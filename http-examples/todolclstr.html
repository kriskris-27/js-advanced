<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List</title>
    <style>
        .completed {
            text-decoration: line-through;
            color: gray;
        }
    </style>
</head>
<body>
    <h1>To-Do List</h1>
    <input type="text" id="todoInput" placeholder="Enter a new task" />
    <button id="addTodoBtn">Add Task</button>
    <ul id="todoList"></ul>

    <script >
    document.getElementById('addTodoBtn').addEventListener('click', addTodo);
        document.addEventListener('DOMContentLoaded', loadTodos);
        
       function addTodo(){
        const todoinput=document.getElementById('todoInput').value;
        if(todoinput==='')
        return;
        const todolis=document.getElementById('todoList');
        const newtodo=createTodoElement(todoInput,false);
        todolis.appendChild(newtodo);

        savetolocal(todoinput,false);

        document.getElementById('todoinput').value='';
           }

        function createTodoElement(task,iscomplete){
            const todoitem=document.createElement('li');
            todoitem.textContent=task;

            todoitem.addEventListener('click',()=>toggleTask(todoitem));
            if(iscomplete){
                todoitem.classList.add('completed');
            }
            return todoitem;
        }

        function toggleTask(todoitem)
        {
            const todo =JSON.parse(localStorage,getItem('todo'))|| [];
            const taskText=todoitem.textContent;
            todo.forEach(tod => {
                if(todo.text===taskText)
                todo.completed=!todo.completed;
            });
            localStorage.setItem('todo',JSON.stringify(todo));
            todoitem.classList.toggle('completed');
    
        }

        function savetolocal(task,iscomplete)
        {
            let todos=JSON.parse(localStorage.getItem('todos'))||[];
            todos.push({text:task,completed:iscomplete});
            localStorage.setItem('todos',JSON.stringify(todos));
        }
        
            </script>
</body>
</html>
